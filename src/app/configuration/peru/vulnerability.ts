import { WizardableProcess, WizardProperties } from 'src/app/components/config_wizard/wizardable_processes';
import { WpsProcess, ProcessStateUnavailable, Product } from 'src/app/wps/wps.datatypes';
import { WpsData } from 'projects/services-wps/src/public-api';
import { HttpClient } from '@angular/common/http';
import { schemaPeru } from './exposure';
import { fragilityRef } from '../chile/modelProp';



export const assetcategoryPeru: Product & WpsData = {
    uid: 'assetcategory_peru',
    description: {
        id: 'assetcategory',
        defaultValue: 'buildings',
        reference: false,
        type: 'literal'
    },
    value: 'buildings'
};

export const losscategoryPeru: Product & WpsData = {
    uid: 'losscategory_peru',
    description: {
        id: 'losscategory',
        defaultValue: 'structural',
        reference: false,
        type: 'literal'
    },
    value: 'structural'
};

export const taxonomiesPeru: Product & WpsData = {
    uid: 'taxonomies_peru',
    description: {
        id: 'taxonomies',
        reference: false,
        type: 'literal',
        defaultValue: 'none'
    },
    value: 'none'
};



export class VulnerabilityModelPeru extends WpsProcess implements WizardableProcess {

    readonly wizardProperties: WizardProperties;

    constructor(http: HttpClient) {
        super(
            'Vulnerability Peru',
            'EQ Vulnerability Model',
            [schemaPeru, assetcategoryPeru, losscategoryPeru, taxonomiesPeru].map(p => p.uid),
            [fragilityRef.uid],
            'org.n52.gfz.riesgos.algorithm.impl.ModelpropProcess',
            '',
            'http://rz-vm140.gfz-potsdam.de/wps/WebProcessingService',
            '1.0.0',
            http,
            new ProcessStateUnavailable(),
        );

        this.wizardProperties = {
            shape: 'dot-circle',
            providerName: 'Helmholtz Centre Potsdam',
            providerUrl: 'https://www.gfz-potsdam.de/en/'
        };
    }
}
